{"version":3,"sources":["webpack:///./src/pages/galeria-inspiracji.js"],"names":["GaleriaInspiracji","props","state","category","render","filtered","this","data","graphcms","photos","newses","filteredPhotos","edges","filter","node","length","style","background","isNews","title","setFilterCat","str","setState","activeCategory","Component","imagesQuery"],"mappings":"mMAQMA,E,oBACJ,WAAYC,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKC,MAAQ,CACXC,SAAU,IAHK,E,0GAOnBC,OAAA,WAAU,IAeAC,EAfD,SAQHC,KANFL,MACEM,KACEC,SAAYC,EAJX,EAIWA,OAAQC,EAJnB,EAImBA,OAGxBR,EACEI,KADFJ,MAkBIS,GAVEN,EAAWI,EAAOG,MAAMC,QAAO,YACnC,OADiD,EAAXC,KAC1BX,WAAaD,EAAMC,aAGpBY,OACJV,EAEFI,EAAOG,MAKhB,OACE,kBAAC,IAAD,CACEI,MAAO,CAAEC,WAAY,WACrBC,OAAQR,EAAOE,MAAMG,QAErB,kBAAC,IAAD,CAAKI,MAAM,uBACX,kBAAC,IAAD,MACA,kBAAC,IAAD,CACEC,aAzBe,SAAAC,GACnB,EAAKC,SAAS,CAAEnB,SAAUkB,KAyBtBE,eAAgBrB,EAAMC,WAExB,kBAAC,IAAD,CAAYM,OAAQE,M,GA9CIa,aAoDnBC,EAAW,aAuCTzB","file":"component---src-pages-galeria-inspiracji-js-a7768bf9e142c276e5d7.js","sourcesContent":["import React, { Component } from 'react';\nimport { graphql } from 'gatsby';\nimport PropTypes from 'prop-types';\n// import styled from 'styled-components';\n\nimport { MainLayout } from 'layouts';\nimport { SEO, PhotosGrid, GalleryHeader, SortingBar } from 'components';\n\nclass GaleriaInspiracji extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      category: '',\n    };\n  }\n\n  render() {\n    const {\n      props: {\n        data: {\n          graphcms: { photos, newses },\n        },\n      },\n      state,\n    } = this;\n\n    const setFilterCat = str => {\n      this.setState({ category: str });\n    };\n\n    const filterByCategories = () => {\n      const filtered = photos.edges.filter(({ node }) => {\n        return node.category === state.category;\n      });\n\n      if (filtered.length) {\n        return filtered;\n      }\n      return photos.edges;\n    };\n\n    const filteredPhotos = filterByCategories();\n\n    return (\n      <MainLayout\n        style={{ background: '#D3D3D3' }}\n        isNews={newses.edges.length}\n      >\n        <SEO title=\"Galeria Inspiracji\" />\n        <GalleryHeader />\n        <SortingBar\n          setFilterCat={setFilterCat}\n          activeCategory={state.category}\n        />\n        <PhotosGrid photos={filteredPhotos} />\n      </MainLayout>\n    );\n  }\n}\n\nexport const imagesQuery = graphql`\n  query {\n    graphcms {\n      photos: photosConnection(\n        orderBy: createdAt_ASC\n        where: { status: PUBLISHED }\n      ) {\n        edges {\n          node {\n            id\n            name\n            category\n            image {\n              url\n            }\n          }\n        }\n        aggregate {\n          count\n        }\n      }\n      newses: newsesConnection(\n        orderBy: createdAt_DESC\n        where: { status: PUBLISHED }\n      ) {\n        edges {\n          node {\n            id\n          }\n        }\n      }\n    }\n  }\n`;\n\nGaleriaInspiracji.propTypes = {\n  data: PropTypes.node.isRequired,\n};\n\nexport default GaleriaInspiracji;\n"],"sourceRoot":""}